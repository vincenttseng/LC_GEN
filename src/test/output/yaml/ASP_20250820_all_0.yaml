openapi: 3.0.1
info:
  title: TCS BaNCS Letter of Credit Microservice
  description: This service supports issuance and maintenance of inland and foreign import LC and its related life cycle events like amendment, shipping guarantee, bill registration, payment either by import Loan or by customer own funding.  Also based on the events, the related SWIFT messages will be generated.
  contact:
    name: TCS BaNCS
    url: https://www.tcs.com/bancs
  version: 1.0.0
servers:
  - url: http://10.170.23.166:9700/letter-of-credit/swagger-ui.html
    description: Generated server url
paths:
  /swift-messages:
######## SWIFT Message Query
    get:
      tags:
        - saving-deposit-details
      summary: SWIFT Message Query
      description: SWIFT MESSAGE QUERY
      operationId: SWIFT MESSAGE QUERY
      parameters:
        - name: auth-token
          in: header
          description: Authentication token to validate the caller
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: access-token
          in: header
          description: Authorization token to validate the caller
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: initiating-system-id
          in: header
          description: Identifier for the initiating system
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: external-user-ref
          in: header
          description: Identifier for the external system user
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: user-id
          in: header
          description: Identifier for the BaNCS user
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: channel-type
          in: header
          description: 'Identifier for the channel from where the transaction has originated (Internet, Mobile, ATM, Branch Channel). 1:Web, 2:Mobile,3:ATM,4:Branch-Channel '
          required: false
          schema:
            type: integer
            format: int32
        - name: uuid
          in: header
          description: Unique identifier for the transaction, set by the invoking system
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: uuid-seq-no
          in: header
          description: "Indicates the sequence in which the API is invoked under a single UUID scope, set by the invoking system\t"
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
          example: 1
        - name: entity
          in: header
          description: Identifier for the entity under which the transaction is originated
          required: true
          schema:
            maxLength: 15
            minLength: 0
            type: string
          example: GBANKOU001
        - name: language-code
          in: header
          description: Language in which the message should be returned (Error or Success) 1:English(Default)
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: run-mode
          in: header
          description: Indicates the execution context of API invocation, like Online/Batch/SI. 1:Online, 2:Batch, 4:SI-Interface
          required: true
          schema:
            type: integer
            format: int32
          example: 1
        - name: branch-no
          in: header
          description: Identifier for transacting branch
          required: false
          schema:
            maxLength: 4
            minLength: 0
            type: string
        - name: service-mode
          in: header
          description: Identifier for the mode of service to customer when initiated from TCS BaNCS branch channel
          required: false
          schema:
            type: integer
            format: int32
        - name: api-version
          in: header
          description: Identifier for API version
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: internal-transaction-ref
          in: header
          description: BaNCS internal reference number for the transaction. In the request, the value will be blank. This will be generated by BaNCS and will be sent as part of the response.
          required: false
          schema:
            type: integer
            format: int64
        - name: trace-id
          in: header
          description: Unique request identifier for distributed tracing
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: span-id
          in: header
          description: Unique identifier for the segment under a given trace id
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: im-req-id
          in: header
          description: Unique identifier for the segment under a im-req-id
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string

        - name: swift_message_type
          in: query
          required: false
          schema:
            type: number
          description: SWIFT_MESSAGE_TYPE
        - name: sender_bic_code
          in: query
          required: false
          schema:
            type: string
          description: SENDER_BIC_CODE
        - name: start_date
          in: query
          required: false
          schema:
            type: string
          description: START_DATE
        - name: end_date
          in: query
          required: false
          schema:
            type: string
          description: END_DATE

      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/swift-message-query-response'
                  - $ref: '#/components/schemas/api-messages'
        '400':
          description: INVALID INPUT
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/api-messages'
        '500':
          description: FAILURE
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/api-messages'

######## SWIFT Message Store
    post:
      tags:
        - saving-deposit-details
      summary: SWIFT Message Store
      description: SWIFT MESSAGE STORE
      operationId: SWIFT MESSAGE STORE
      parameters:
        - name: auth-token
          in: header
          description: Authentication token to validate the caller
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: access-token
          in: header
          description: Authorization token to validate the caller
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: initiating-system-id
          in: header
          description: Identifier for the initiating system
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: external-user-ref
          in: header
          description: Identifier for the external system user
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: user-id
          in: header
          description: Identifier for the BaNCS user
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: channel-type
          in: header
          description: 'Identifier for the channel from where the transaction has originated (Internet, Mobile, ATM, Branch Channel). 1:Web, 2:Mobile,3:ATM,4:Branch-Channel '
          required: false
          schema:
            type: integer
            format: int32
        - name: uuid
          in: header
          description: Unique identifier for the transaction, set by the invoking system
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: uuid-seq-no
          in: header
          description: "Indicates the sequence in which the API is invoked under a single UUID scope, set by the invoking system\t"
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
          example: 1
        - name: entity
          in: header
          description: Identifier for the entity under which the transaction is originated
          required: true
          schema:
            maxLength: 15
            minLength: 0
            type: string
          example: GBANKOU001
        - name: language-code
          in: header
          description: Language in which the message should be returned (Error or Success) 1:English(Default)
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: run-mode
          in: header
          description: Indicates the execution context of API invocation, like Online/Batch/SI. 1:Online, 2:Batch, 4:SI-Interface
          required: true
          schema:
            type: integer
            format: int32
          example: 1
        - name: branch-no
          in: header
          description: Identifier for transacting branch
          required: false
          schema:
            maxLength: 4
            minLength: 0
            type: string
        - name: service-mode
          in: header
          description: Identifier for the mode of service to customer when initiated from TCS BaNCS branch channel
          required: false
          schema:
            type: integer
            format: int32
        - name: api-version
          in: header
          description: Identifier for API version
          required: false
          schema:
            type: integer
            format: int32
          example: 1
        - name: internal-transaction-ref
          in: header
          description: BaNCS internal reference number for the transaction. In the request, the value will be blank. This will be generated by BaNCS and will be sent as part of the response.
          required: false
          schema:
            type: integer
            format: int64
        - name: trace-id
          in: header
          description: Unique request identifier for distributed tracing
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: span-id
          in: header
          description: Unique identifier for the segment under a given trace id
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string
        - name: im-req-id
          in: header
          description: Unique identifier for the segment under a im-req-id
          required: false
          schema:
            maxLength: 256
            minLength: 0
            type: string

      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/swift-message-store-request'

      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/swift-message-store-response'
                  - $ref: '#/components/schemas/api-messages'
        '400':
          description: INVALID INPUT
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/api-messages'
        '500':
          description: FAILURE
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/api-messages'

######## components
components:
  schemas:
    api-message-error:
      type: object
      properties:
        severity-code:
          type: integer
          format: int32
        description:
          type: string
        id:
          type: integer
          format: int64
    api-messages:
      type: object
      properties:
        max-severity-code:
          type: integer
          format: int32
        max-severity-desc:
          type: string
        message-list:
          type: array
          items:
            $ref: '#/components/schemas/api-message-error'
######## SWIFT Message Query
    swift-message-query-response:
      type: object
      properties:
        swift-messages:
          $ref: '#/components/schemas/swift-message-query-response-swift-messages'
    swift-message-query-response-swift-messages:
      type: object
      properties:
        swift-message:
          type: string
          format: string
          description: "Swift Message"
######## SWIFT Message Store
    swift-message-store-request:
      type: object
      properties:
        swift-messages:
          $ref: '#/components/schemas/swift-message-store-request-swift-messages'
    swift-message-store-request-swift-messages:
      type: object
      properties:
        swift-message:
          type: string
          format: string
          description: "Swift Message"
    swift-message-store-response:
      type: object
      properties:
        dep-ctcoamas:
          $ref: '#/components/schemas/swift-message-store-response-dep-ctcoamas'
        dep-ctcoalog:
          $ref: '#/components/schemas/swift-message-store-response-dep-ctcoalog'
    swift-message-store-response-dep-ctcoamas:
      type: object
      properties:
        sender-bic-code:
          type: string
          format: string
          description: "Sender Bic Code"
        acc-id:
          type: string
          format: string
          description: "Acc Id"
        closing-balance-ccy:
          type: string
          format: string
          description: "Closing Balance Ccy"
        closing-balance-date:
          type: string
          format: date
          description: "Closing Balance Date"
        closing-balance-debit-credit-mark:
          type: string
          format: string
          description: "Closing Balance Debit Credit Mark"
        closing-balance-amt:
          type: integer
          format: int32
          description: "Closing Balance Amt"
        closing-available-balance-ccy:
          type: string
          format: string
          description: "Closing Available Balance Ccy"
        closing-available-balance-date:
          type: string
          format: date
          description: "Closing Available Balance Date"
        closing-available-balance-debit-credit-mark:
          type: string
          format: string
          description: "Closing Available Balance Debit Credit Mark"
        closing-available-balance-amt:
          type: integer
          format: int32
          description: "Closing Available Balance Amt"
        osn-no:
          type: integer
          format: int32
          description: "Osn No"
        intftype:
          type: string
          format: string
          description: "Intftype"
    swift-message-store-response-dep-ctcoalog:
      type: object
      properties:
        sender-bic-code:
          type: string
          format: string
          description: "Sender Bic Code"
        acc-id:
          type: string
          format: string
          description: "Acc Id"
        trans-ccy:
          type: string
          format: string
          description: "Trans Ccy"
        trans-date:
          type: string
          format: date
          description: "Trans Date"
        trans-debit-credit-mark:
          type: string
          format: string
          description: "Trans Debit Credit Mark"
        trans-amt:
          type: integer
          format: int32
          description: "Trans Amt"
        trans-description:
          type: string
          format: string
          description: "Trans Description"
        balance-ccy:
          type: string
          format: string
          description: "Balance Ccy"
        balance-debit-credit-mark:
          type: string
          format: string
          description: "Balance Debit Credit Mark"
        balance-amt:
          type: integer
          format: int32
          description: "Balance Amt"
        osn-no:
          type: integer
          format: int32
          description: "Osn No"
        trans-serial-no:
          type: integer
          format: int32
          description: "Trans Serial No"
        intftype:
          type: string
          format: string
          description: "Intftype"
        language:
          type: string
          format: string
          description: "Language"
        trans-type:
          type: string
          format: string
          description: "Trans Type"
        txn-mark:
          type: string
          format: string
          description: "Txn Mark"
